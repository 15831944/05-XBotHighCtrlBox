/*******************************************************Copyright*********************************************************
**                                            北京博创兴盛机器人技术有限公司
**                                                       研发部
**                                               http://robot.up-tech.com
**
**-------------------------------------------------------文件信息---------------------------------------------------------
** 文件名称:			AdcInit.h
** 最后修订日期:		2010-04-21
** 最后版本:			1.0
** 描述:				Adc初始化
**
**------------------------------------------------------------------------------------------------------------------------
** 创建人:			律晔
** 创建日期:			2010-04-21
** 版本:				1.0
** 描述:				Adc初始化
**
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
*************************************************************************************************************************/
#ifndef ADCCONTROL_H_
#define ADCCONTROL_H_

#include "avr_compiler.h"
#include "ConfigTypes.h"

#include "Drivers/adc_driver.h"


#define		ADCCONTROL_GLOBALS

#ifndef		ADCCONTROL_GLOBALS
#define		ADCCONTROL_EXT
#else
#define		ADCCONTROL_EXT		extern
#endif



/*************************************************************************************************************************
** 														控制结构体定义
*************************************************************************************************************************/
typedef union UAdcData
{
	uint8_t para[8];
	struct
	{
		int16_t samples_ch3;
		int16_t samples_ch2;
		int16_t samples_ch1;
		int16_t samples_ch0;
	}str_para;
}ADC_DATA_UNION;

typedef struct SAdcControl
{
	ADC_DATA_UNION uni_adc_val;
	int8_t offset;
	int8_t offset_b;

	uint8_t group;

	int16_t ad0;
	int16_t ad1;
	int16_t ad2;
	int16_t ad3;
	int16_t ad4;
	int16_t ad5;
	int16_t ad6;
	int16_t ad7;

	int16_t adb0;
	int16_t adb1;
	int16_t adb2;
	int16_t adb3;

	uint16_t report_cycle;
	uint16_t time_count;


	void (*pStart)(void);
}ADC_CONTROL_STRUCT;


/*************************************************************************************************************************
** 														函数声明
*************************************************************************************************************************/
/*************************************************************************************************************************
** 函数名称:			InitAdcA
**
** 函数描述:			初始化InitAdcA,启动CH3转换完成中断;
**
**
** 输入变量:			void;
** 返回值:			void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:			律晔
** 创建日期:			2010-04-12
**------------------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**------------------------------------------------------------------------------------------------------------------------
*************************************************************************************************************************/
ADCCONTROL_EXT void InitAdcA(void);
ADCCONTROL_EXT void InitAdcB(void);

/*************************************************************************************************************************
** 														控制结构体声明
*************************************************************************************************************************/
ADCCONTROL_EXT ADC_CONTROL_STRUCT adc_a_control;

#endif
/*************************************************************************************************************************
**														文件结束
*************************************************************************************************************************/
